@model CarServMgmt.Domain.ServiceRecord

@{
    ViewData["Title"] = "Service Record Details";
}

<h1>Service Record Details</h1>

<div>
    <h4>Service Record</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">Car</dt>
        <dd class = "col-sm-10">@Model.Car?.RegistrationNumber</dd>
        <dt class = "col-sm-2">Customer</dt>
        <dd class = "col-sm-10">@Model.Car?.Customer?.Name</dd>
        <dt class = "col-sm-2">Mechanic</dt>
        <dd class = "col-sm-10">@Model.Mechanic?.Name</dd>
        <dt class = "col-sm-2">Description</dt>
        <dd class = "col-sm-10">@Model.Description</dd>
        <dt class = "col-sm-2">Hours</dt>
        <dd class = "col-sm-10">@Model.Hours</dd>
        <dt class = "col-sm-2">Is Complete</dt>
        <dd class = "col-sm-10">@Model.IsComplete</dd>
        <dt class = "col-sm-2">Date Brought In</dt>
        <dd class = "col-sm-10">@Model.DateBroughtIn.ToShortDateString()</dd>
        <dt class = "col-sm-2">Date Completed</dt>
        <dd class = "col-sm-10">@(Model.DateCompleted?.ToShortDateString() ?? "-")</dd>
        <dt class = "col-sm-2">Total Cost</dt>
        <dd class = "col-sm-10">@Model.GetTotalCost().ToString("C")</dd>
    </dl>
</div>
<div>
    <a asp-action="Index">Back to List</a>
    @if (User.IsInRole("Admin") || User.IsInRole("Mechanic"))
    {
        @:| <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
    }
    @if (User.IsInRole("Admin"))
    {
        @:| <a asp-action="Delete" asp-route-id="@Model.Id">Delete</a>
    }
</div> 